{"version":3,"sources":["copyButton.js"],"names":["pre","document","getElementsByTagName","i","length","children","className","indexOf","button","createElement","textContent","appendChild","copyCode","Clipboard","target","trigger","previousElementSibling","on","event","clearSelection","window","setTimeout"],"mappings":"AAIA,cAEA,WAWE,IANA,IAAIA,EAAMC,SAASC,qBAAqB,OAM/BC,EAAI,EAAGA,EAAIH,EAAII,OAAQD,IAAK,CAGnC,GAAmB,IAFFH,EAAIG,GAAGE,SAAS,GAAGC,UAAUC,QAAQ,aAEhC,CACpB,IAAIC,EAASP,SAASQ,cAAc,UACpCD,EAAOF,UAAY,cACnBE,EAAOE,YAAc,OAErBV,EAAIG,GAAGQ,YAAYH,IAKvB,IAAII,EAAW,IAAIC,UAAU,eAAgB,CAC3CC,OAAQ,SAAUC,GAChB,OAAOA,EAAQC,0BAQnBJ,EAASK,GAAG,WAAW,SAAUC,GAC/BA,EAAMC,iBACND,EAAMH,QAAQL,YAAc,SAC5BU,OAAOC,YAAW,WAChBH,EAAMH,QAAQL,YAAc,SAC3B,QAMLE,EAASK,GAAG,SAAS,SAAUC,GAC7BA,EAAMH,QAAQL,YAAc,2BAC5BU,OAAOC,YAAW,WAChBH,EAAMH,QAAQL,YAAc,SAC3B,QAjDP","file":"copyButton.js","sourcesContent":["//\n// Copy button\n//\n\n\"use strict\";\n\n(function () {\n  // Get the elements.\n  // - the 'pre' element.\n  // - the 'div' with the 'paste-content' id.\n\n  var pre = document.getElementsByTagName(\"pre\");\n  // var pasteContent = document.getElementById('paste-content');\n\n  // Add a copy button in the 'pre' element.\n  // which only has the className of 'language-'.\n\n  for (var i = 0; i < pre.length; i++) {\n    var isLanguage = pre[i].children[0].className.indexOf(\"language-\");\n\n    if (isLanguage === 0) {\n      var button = document.createElement(\"button\");\n      button.className = \"copy-button\";\n      button.textContent = \"Copy\";\n\n      pre[i].appendChild(button);\n    }\n  }\n  // Run Clipboard\n\n  var copyCode = new Clipboard(\".copy-button\", {\n    target: function (trigger) {\n      return trigger.previousElementSibling;\n    },\n  });\n  // On success:\n  // - Change the \"Copy\" text to \"Copied\".\n  // - Swap it to \"Copy\" in 2s.\n  // - Lead user to the \"contenteditable\" area with Velocity scroll.\n\n  copyCode.on(\"success\", function (event) {\n    event.clearSelection();\n    event.trigger.textContent = \"Copied\";\n    window.setTimeout(function () {\n      event.trigger.textContent = \"Copy\";\n    }, 2000);\n  });\n  // On error (Safari):\n  // - Change the  \"Press Ctrl+C to copy\"\n  // - Swap it to \"Copy\" in 2s.\n\n  copyCode.on(\"error\", function (event) {\n    event.trigger.textContent = 'Press \"Ctrl + C\" to copy';\n    window.setTimeout(function () {\n      event.trigger.textContent = \"Copy\";\n    }, 5000);\n  });\n})();\n"]}